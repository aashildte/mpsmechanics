#!/usr/bin/env python3

"""

Given data on displacement, this scripts finds the peak values and plots
spacial distribution of given metrics for these.

Run script as (with python 3)

    visualize_mechanics [input files]

where the input files are csv/nd2 files containing displacement data,
(see README).

Ã…shild Telle / Simula Research Labratory / 2019

"""

import sys
import mpsmechanics as mc

if __name__ == "__main__":

    try:
        input_files = sys.argv[1:-1]
        layers = sys.argv[-1]
        assert(len(sys.argv[1:])>1)
    except:
        print('Expected arguments: files, layers (one string); ' + \
               'e.g. track_pillars */*/*.nd2 "visualize_chip')
        exit(-1)

    for f_in in input_files:
        #try:
        mc.visualize_over_time(f_in, layers)
        #except Exception as e:
        #    print("Could not run visualization over time; error ", e)
        #    print("Launching next data set ..")
